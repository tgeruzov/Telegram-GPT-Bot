# ü§ñ Telegram GPT Bot

–£–º–Ω—ã–π Telegram-–±–æ—Ç –Ω–∞ Python, —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Å OpenAI API, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–æ–≤ –≤ SQLite, ¬´humanize¬ª –æ—Ç–≤–µ—Ç–æ–≤ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üí¨ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ SQLite)
- –†–∞–±–æ—Ç–∞ —Å OpenAI Chat Completions (–º–æ–¥–µ–ª—å –∑–∞–¥–∞—ë—Ç—Å—è –≤ `.env`)
- –ß–µ–ª–æ–≤–µ—á–Ω—ã–π —Å—Ç–∏–ª—å –æ—Ç–≤–µ—Ç–æ–≤ (—Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è 3 —É—Ä–æ–≤–Ω—è–º–∏)
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ asyncio-—Å–µ–º–∞—Ñ–æ—Ä

### üéõ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏

–ü–æ–¥ –∫–∞–∂–¥—ã–º –æ—Ç–≤–µ—Ç–æ–º –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- **–ù–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å** ‚Äî –æ—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç
- **–ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å** ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–£–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π** ‚Äî —É–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç–≤–µ—Ç –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
- **–°—Ç–∏–ª—å: 0/1/2** ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è ¬´humanize¬ª –æ—Ç–≤–µ—Ç–∞

### üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- –†–∞–∑–±–∏–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —á–∞—Å—Ç–∏ (—á—Ç–æ–±—ã Telegram –Ω–µ —Ä–µ–∑–∞–ª —Å–æ–æ–±—â–µ–Ω–∏—è)
- –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã—Ö –∏ "AI-—à–Ω—ã—Ö" —à–∞–±–ª–æ–Ω–æ–≤ –≤ –æ—Ç–≤–µ—Ç–∞—Ö
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π `SYSTEM_PROMPT`

## üóÇ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.10+
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:
  - `python-telegram-bot>=20`
  - `openai`
  - `python-dotenv`
  - `sqlite3` (–≤—Å—Ç—Ä–æ–µ–Ω –≤ Python)

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/tgeruzov/Telegram-GPT-Bot.git
cd Telegram-GPT-Bot
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
# –î–ª—è Windows:
venv\Scripts\activate
# –î–ª—è Linux/MacOS:
source venv/bin/activate
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ .env

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
TELEGRAM_TOKEN=–≤–∞—à_—Ç–µ–ª–µ–≥—Ä–∞–º_—Ç–æ–∫–µ–Ω
OPENAI_API_KEY=–≤–∞—à_openai_api_key

OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=512

DB_PATH=chat_history.db
MAX_HISTORY_MESSAGES=12

REQUEST_SEMAPHORE_LIMIT=4
HUMANIZE_LEVEL=1

# –ú–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –Ω–∞–ø—Ä—è–º—É—é:
SYSTEM_PROMPT=–û—Ç–≤–µ—á–∞–π –∫—Ä–∞—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É.

# –ò–ª–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Ä–µ–≤—å—é–µ—Ä–∞ –∫–æ–¥–∞, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω:
# SYSTEM_PROMPT="–¢—ã ‚Äî –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ —Ä–µ–≤—å—é Python-–∫–æ–¥–∞. –ó–∞–¥–∞—á–∞: –Ω–∞—Ö–æ–¥–∏—Ç—å –±–∞–≥–∏, —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –≥–æ–Ω–∫–∏, –æ–±—ä—è—Å–Ω–∏—Ç—å –ø—Ä–∏—á–∏–Ω—É –∏ –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ—á–Ω–æ–µ –º–µ—Å—Ç–æ (—Ñ—É–Ω–∫—Ü–∏—è/—Å—Ç—Ä–æ–∫–∞). –î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –±–∞–≥–∞: 1) –∫—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏ –ø—Ä–æ–±–ª–µ–º—É, 2) –ø—Ä–µ–¥–ª–æ–∂–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –ø—Ä–∏–º–µ—Ä–æ–º –∫–æ–¥–∞ (–ø–∞—Ç—á), 3) —É–∫–∞–∂–∏ –∫–∞–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∏–ª–∏ —Ç–µ—Å—Ç-–∫–µ–π—Å. –û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ: SQLite –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–º/–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏, —Å–µ–º–∞—Ñ–æ—Ä –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ –≤—ã–∑–æ–≤—ã, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API, –≤–æ–∑–º–æ–∂–Ω—ã–µ None, –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ —Å –¥–ª–∏–Ω–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –∏ —Ä–∞–∑–±–∏–µ–Ω–∏–µ–º –Ω–∞ —á–∞–Ω–∫–∏, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ reply_markup, —É—Ç–µ—á–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∏ —Ä–µ—Å—É—Ä—Å–Ω—ã–µ –æ—à–∏–±–∫–∏. –û—Ç–≤–µ—á–∞–π –∫–æ—Ä–æ—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É, –¥–∞–≤–∞–π –º–∏–Ω–∏–º—É–º —à—É–º–∞."
```

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

```bash
python main.py
```

**–í–∞–∂–Ω–æ:** –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ!

## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ main.py              # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ chat_history.db      # SQLite —Å –∏—Å—Ç–æ—Ä–∏–µ–π –¥–∏–∞–ª–æ–≥–æ–≤ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ .env                 # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ venv/                # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ)
‚îî‚îÄ‚îÄ README.md
```

## üìå –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
2. –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –≤ SQLite
3. –ù–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –º–æ–¥–µ–ª–∏
4. –ú–æ–¥–µ–ª—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç ‚Üí –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ humanize-—Ñ–∏–ª—å—Ç—Ä
5. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç + –ø–∞–Ω–µ–ª—å –∫–Ω–æ–ø–æ–∫
6. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –±–æ—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é/—Å—Ç–∏–ª—å/–ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç

## üõ† –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞  | –û–ø–∏—Å–∞–Ω–∏–µ                           |
| -------- | ---------------------------------- |
| `/start` | –û—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ —Å–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫ |
| `/help`  | –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞                    |

–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Äî —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.
